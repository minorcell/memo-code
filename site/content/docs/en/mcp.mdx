---
title: 'MCP Integration'
description: 'Connect and manage MCP servers for external capabilities.'
order: 7
category: 'Extensions'
---

# MCP Integration

MCP (Model Context Protocol) lets Memo connect to external tool servers and resource systems.

## Manage MCP via CLI

### List and Inspect

```bash
memo mcp list
memo mcp list --json
memo mcp get <name>
memo mcp get <name> --json
```

### Add Servers

Add local stdio server:

```bash
memo mcp add local_tools -- /path/to/mcp-server --flag
```

Add remote streamable HTTP server:

```bash
memo mcp add remote --url https://your-mcp-server.com/mcp --bearer-token-env-var MCP_TOKEN
```

For stdio servers, environment variables can be passed with repeated `--env KEY=VALUE`.

### Remove Server

```bash
memo mcp remove <name>
```

### Help

```bash
memo mcp help
```

### Login / Logout Commands

```bash
memo mcp login <name> [--scopes read,write]
memo mcp logout <name>
```

OAuth login/logout is available for `streamable_http` servers.
`memo mcp list` also reports `auth_status` for each server:

- `unsupported`
- `not_logged_in`
- `bearer_token`
- `oauth`

## Manual `config.toml` Examples

### Local Stdio MCP

```toml
[mcp_servers.local_tools]
command = "/path/to/mcp-server"
args = ["--flag"]
# optional:
# env = { API_TOKEN = "..." }
# stderr = "inherit"
```

### Remote Streamable HTTP MCP

```toml
[mcp_servers.remote]
type = "streamable_http"
url = "https://your-mcp-server.com/mcp"
bearer_token_env_var = "MCP_TOKEN"
# optional:
# http_headers = { "X-Team" = "platform" }
```

## View MCP in TUI

Use slash command:

```text
/mcp
```

It shows MCP servers configured for the current session.

## View and Manage MCP in Web UI

In web mode (`memo web`), open the `MCP Servers` page from the sidebar to:

- create / edit / remove servers
- login / logout for OAuth-enabled remote servers
- toggle default active servers

## When Config Changes Take Effect

MCP servers are loaded when a session is created.

After adding/updating/removing MCP config:

- restart `memo`, or
- start a new session (`/new`)

## Common Issues

- `memo mcp list` has entries but `/mcp` looks stale: recreate session.
- auth failure on remote server: check token env var exists in current shell.
- local server fails to start: verify `command`, `args`, and executable path.
