# Memo CLI `save_memory` 工具

将简短事实/偏好追加到本地记忆文件（默认 `~/.memo/memo.md`），供后续会话注入系统提示词。

## 基本信息
- 工具名称：`save_memory`
- 描述：保存一条简短事实/偏好，跨会话复用（写入 ~/.memo/memo.md）
- 文件：`packages/tools/src/tools/save_memory.ts`
- 确认：否

## 参数
- `fact`（字符串，必填）：要保存的简短事实，限制 ≤120 字符。

## 行为
- 清洗输入：替换换行为空格、压缩空白、trim；为空时报错。
- 解析存储路径：优先 `MEMO_HOME` 环境变量，否则 `~/.memo/memo.md`；递归创建父目录。
- 读取现有内容（若存在），截取 header `## Memo Added Memories` 之后的条目（前缀 `- `）。
- 追加新 fact，保留最近 50 条，重新写入带 header 的列表。
- 写入异常时返回错误；维护过程中的警告仅打印到控制台。
- 成功返回写入路径。

## 输出示例
`已保存记忆到: /Users/you/.memo/memo.md`

## 注意
- 仅维护单一分节，不保留其它自定义内容。
- 进程外共享文件，需确保对路径有写权限。
