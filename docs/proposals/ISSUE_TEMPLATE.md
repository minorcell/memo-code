# Issue：工具执行审批系统

## 🎯 问题

Memo Code 目前对所有工具调用“直接执行、无确认”，风险包括：

- **无保护网**：`rm -rf`、`sudo`、覆盖写入等会立刻落地
- **缺乏可控性**：用户无法在执行前审核或选择拒绝
- **安全隐患**：恶意/有缺陷的提示可能造成不可逆破坏

## 💡 方案概要

为高风险工具增加 **三选一审批**：

1. **Deny**：拒绝本次调用
2. **Allow Once**：只放行本次
3. **Always Allow**：本会话内自动放行

### 风险分级

**高风险（需审批）：**

- `bash`（任意 Shell）
- `write`（创建/覆盖文件）
- `edit`（修改文件）

**低风险（无需审批）：**

- `read`、`glob`、`grep`、`webfetch`

## 🔗 参考

- Cursor 类似能力：https://cursor.sh/docs
- Aider 审批机制：https://aider.chat/docs/usage.html

## 📝 备注

目标是在“安全”与“顺畅”之间取平衡：避免过度打扰，同时阻断高危操作。

---

**兼容性**：新增特性，无破坏性改动
